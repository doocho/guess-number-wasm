## Guess the Number (Rust + WASM)

A simple, client‑side number guessing game. The secret number is generated in Rust with secure randomness and compiled to WebAssembly (WASM). The browser UI sends guesses to WASM and renders the response.

### Requirements
- Rust (stable)
- `wasm-pack`
- Any static file server (e.g., Python `http.server`)

Install `wasm-pack` on macOS:

```bash
brew install wasm-pack
```

### Build

```bash
wasm-pack build --target web --release
```

This creates the `pkg/` folder with the WASM and JS bindings.

### Run (Local Server)

Serve the project root and open the web UI:

```bash
python3 -m http.server 5173
# then open: http://localhost:5173/web/
```

### Project Structure

```
guess-number-wasm/
  ├─ src/
  │  ├─ lib.rs       # Rust game logic exposed to JS via wasm-bindgen
  │  └─ main.rs      # Unused for WASM; empty main
  ├─ web/
  │  ├─ index.html   # Minimal UI
  │  └─ main.js      # Browser events → WASM calls → UI updates
  ├─ pkg/            # Generated by wasm-pack (after build)
  ├─ PRD.md          # Product requirements document
  └─ Cargo.toml
```

### WASM API (from JS)

`Game` (via `wasm-bindgen`):

- `new(max?: number)` → `Game`
- `reset(max?: number): void`
- `guess(value: number): { result: "low" | "high" | "correct", attempts: number }`
- `get_attempts(): number`
- `get_max(): number`

Notes:
- Guesses out of range will throw a JS exception with message "Guess out of range".

### Development Tips

- Faster rebuilds during development:

```bash
wasm-pack build --target web --dev
```

- Run Rust tests for non-WASM logic:

```bash
cargo test
```

### Troubleshooting
- If the browser fails to load the WASM, ensure you are serving via HTTP (not opening `file://`).
- Delete `pkg/` and rebuild if bindings seem stale.
- Ensure `getrandom` has the `js` feature (already configured) so randomness comes from Web Crypto.

### License
MIT (add your preferred license as needed)


